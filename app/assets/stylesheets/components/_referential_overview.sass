.referential-overview
  margin-top: 50px
  .time-travel
    background-color: $grey
    padding: 10px
    float: right
    border-top-left-radius: 10px
    border-top-right-radius: 10px
    a.btn:first-child
      border-right: 1px solid $grey
    a.btn:last-child
      border-left: 1px solid $grey
  .overview-table
    border: 1px solid $grey
    clear: both
    display: flex
    $left-size: 100px
    .head
      height: $left-size
    .line
      height: 80px
    .left
      flex: 0 0
      background: $lightgrey
      min-width: $left-size
      overflow: hidden
      border-right: 1px solid white
      .head
        position: relative
        border-bottom: 1px solid $grey
        border-right: 1px solid $lightgrey
        .dates, .lines
          position: absolute
          font-size: 0.8em
          z-index: 2
        .dates
          right: 20px
          top: 20px
        .lines
          left: 20px
          bottom: 20px
        &:after
          position: absolute
          border-left: ($left-size - 2px)/2 solid transparent
          border-bottom: ($left-size - 2px)/2 solid transparent
          border-right: ($left-size - 2px)/2 solid white
          border-top: ($left-size - 2px)/2 solid white
          z-index: 1
          top: 0
          right: 0
          width: 0
          content: ""
      .line
        padding: 15px 10px 10px
        border-bottom: 1px solid $grey
        font-size: 0.8em
        &:last-child
          border-bottom: none
        .number
          border-radius: 100px
          display: inline-block
          width: 20px
          height: 20px
          text-align: center
          padding-top: 1px
          text-decoration: none
          color: black
          border: 1px solid $grey
        .name
          display: inline-block
          width: $left-size - 50px()
          white-space: nowrap
          line-height: 20px
          margin-left: 5px
          text-overflow: ellipsis
          overflow: hidden
          vertical-align: bottom
          color: black
          text-decoration: none

        .company, .mode
          font-size: 0.9em
          margin-top: 5px
          white-space: nowrap
          text-overflow: ellipsis
          overflow: hidden

        .mode
          margin-top: 0
          text-transform: uppercase
          color: $grey
          font-weight: bold
    .right
      flex: 1 1
      overflow: hidden
      .inner
        transition: margin 0.5s
      .head
        white-space: nowrap
        .week
          display: inline-block
          position: relative
          height: 100%
          .week-span
            left: 5px
            top: 10px
            right: 30px
            white-space: nowrap
            overflow: hidden
            text-overflow: ellipsis
            position: absolute

          .week-number
            background-color: lightgrey
            color: white
            position: absolute
            top: 0
            right: 0
            padding: 2px 4px

          &:after
            position: absolute
            right: 0
            top: 0
            bottom: 0
            background: $grey
            width: 1px
            content: ""

          .days
            position: relative
            top: 50%
            height: 50%
            border-top: 1px solid $grey
            border-bottom: 1px solid $grey

          .day
            float: left
            border-left: 1px solid $grey
            box-sizing: border-box
            padding-left: 5px
            padding-top: 3px
            position: relative
            height: 100%
            .name, .number
              position: absolute
              left: 10px
              right: 10px
              top: 50%
              transform: translateY(-50%)
              margin-top: 10px
            .name
              font-weight: bold
              font-size: 0.8em
              margin-top: -10px
            &:first-child
              border: none
            &.weekend
              background: $lightgrey
            &.today, &:hover
              color: $blue
              background-color: transparentize($blue, 0.7)
              &:after
                content: ""
                left: -1px
                right: -1px
                top: 100%
                height: 10000px
                background-color: transparentize($blue, 0.7)
                position: absolute
                z-index: 4
            &:hover
              background-color: transparentize(white, 0.7)
              &:after
                background-color: transparentize(white, 0.7)

      .line
        border-bottom: 1px solid $grey
        position: relative
        overflow: hidden
        &:last-child
          border-bottom: none

      .period
        height: 100%
        top: 0
        background: rgb(219, 249, 196)
        position: absolute
        &:before
          content: ""
          border-right: 1px dashed $grey
          top: -100%
          bottom: -100%
          position: absolute
          right: -1px
          z-index: 10
        &.empty
          background: rgb(244, 67, 67)
          background: repeating-linear-gradient(-45deg, #f5e1cf,#f5e1cf 10px,#e49393 10px,#e49393 20px)
          &.accepted
            background: #f19039
            background: repeating-linear-gradient(-45deg, #f5e1cf,#f5e1cf 10px,#f19039 10px,#f19039 20px)
